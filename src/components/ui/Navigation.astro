---
export interface NavItem {
  label: string;
  href: string;
  active?: boolean;
}

export interface Props {
  items: NavItem[];
  logo?: {
    text?: string;
    href?: string;
    image?: string;
    imageAlt?: string;
  };
  class?: string;
}

const {
  items = [],
  logo,
  class: className = '',
  ...attrs
} = Astro.props;

const currentPath = Astro.url.pathname;
---

<nav
  class:list={[
    'navigation',
    className
  ]}
  aria-label="Main navigation"
  {...attrs}
>
  <div class="container mx-auto px-4">
    <div class="nav-wrapper flex items-center justify-center h-16">


      <ul class="nav-desktop flex items-center gap-8" style="list-style: none;">
        {items.map((item) => {
          const isActive = currentPath === item.href || item.active;
          return (
            <li>
              <a
                href={item.href}
                class:list={[
                  'nav-link text-base font-normal transition-all',
                  isActive
                    ? 'text-primary border-b-2 border-primary'
                    : 'text-gray-600 hover:text-gray-900'
                ]}
                aria-current={isActive ? 'page' : undefined}
              >
                {item.label}
              </a>
            </li>
          );
        })}
      </ul>
    </div>

  </div>
</nav>

<script src="../../scripts/navigation.ts"></script>

<style>
  .navigation {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(10px);
    z-index: 100;
    border-bottom: 1px solid #f0f0f0;
  }

  .nav-link {
    padding: 0.5rem 0;
    position: relative;
  }

  .text-gray-900 {
    color: var(--color-text-primary);
  }

  .text-gray-600 {
    color: #666;
  }

  .hover\:text-gray-900:hover {
    color: var(--color-text-primary);
  }

  .text-primary {
    color: #4299E1;
  }

  .border-primary {
    border-color: #4299E1;
  }

  @media (max-width: 768px) {
    .nav-desktop {
      gap: 2rem;
    }

    .nav-link {
      font-size: 0.9rem;
    }
  }
</style>