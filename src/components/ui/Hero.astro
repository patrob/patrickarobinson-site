---
import Button from './Button.astro';

export interface Props {
  title: string;
  subtitle?: string;
  description?: string;
  primaryCTA?: {
    text: string;
    href: string;
  };
  secondaryCTA?: {
    text: string;
    href: string;
  };
  class?: string;
  align?: 'left' | 'center' | 'right';
  size?: 'sm' | 'md' | 'lg' | 'xl';
}

const {
  title,
  subtitle,
  description,
  primaryCTA,
  secondaryCTA,
  class: className = '',
  align = 'center',
  size = 'lg',
  ...attrs
} = Astro.props;

const alignClasses = {
  left: 'text-left items-start',
  center: 'text-center items-center',
  right: 'text-right items-end'
};

const sizeClasses = {
  sm: 'py-16 md:py-20',
  md: 'py-20 md:py-24',
  lg: 'py-24 md:py-32',
  xl: 'py-32 md:py-40'
};

const titleSizes = {
  sm: 'hero-title-sm',
  md: 'hero-title-md',
  lg: 'hero-title-lg',
  xl: 'hero-title-xl'
};
---

<section
  class:list={[
    'hero relative overflow-hidden',
    sizeClasses[size],
    className
  ]}
  {...attrs}
>
  <div class="hero-background absolute inset-0 -z-10">
    <div class="hero-gradient h-full w-full"></div>
    <div class="hero-pattern absolute inset-0"></div>
  </div>

  <div class="container mx-auto px-4">
    <div class:list={[
      'hero-content flex flex-col max-w-4xl mx-auto',
      alignClasses[align]
    ]}>
      {subtitle && (
        <span
          class="hero-subtitle uppercase tracking-wider text-white/80"
          style="font-size: var(--font-size-sm); font-weight: var(--font-weight-semibold); line-height: var(--line-height-tight); margin-bottom: var(--space-4);"
        >
          {subtitle}
        </span>
      )}

      <h1
        class:list={[
          'hero-title tracking-tight text-white',
          titleSizes[size]
        ]}
        style="font-size: var(--font-size-5xl); font-weight: var(--font-weight-bold); line-height: var(--line-height-tight); margin-bottom: var(--space-6);"
      >
        {title}
      </h1>

      {description && (
        <p
          class="hero-description text-white/90 max-w-2xl"
          style="font-size: var(--font-size-lg); font-weight: var(--font-weight-normal); line-height: var(--line-height-relaxed); margin-bottom: var(--space-8);"
        >
          {description}
        </p>
      )}

      {(primaryCTA || secondaryCTA) && (
        <div class="hero-actions flex flex-wrap justify-center">
          {primaryCTA && (
            <Button
              href={primaryCTA.href}
              size="lg"
              variant="primary"
              class="bg-white text-primary hover:bg-gray-100"
            >
              {primaryCTA.text}
            </Button>
          )}
          {secondaryCTA && (
            <Button
              href={secondaryCTA.href}
              size="lg"
              variant="secondary"
              class="border-white text-white hover:bg-white hover:text-primary"
            >
              {secondaryCTA.text}
            </Button>
          )}
        </div>
      )}

      <slot />
    </div>
  </div>
</section>

<style>
  .hero-gradient {
    background: var(--gradient-primary);
    background-size: 400% 400%;
    animation: gradientShift 15s ease infinite;
  }

  .hero-pattern {
    background-image:
      radial-gradient(circle at 1px 1px, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
    background-size: 40px 40px;
  }

  @keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  .bg-white {
    background: white;
  }

  .text-primary {
    color: var(--color-primary);
  }

  .hover\:bg-gray-100:hover {
    background: var(--color-bg-secondary);
  }

  .border-white {
    border-color: white;
  }

  .text-white {
    color: white;
  }

  .text-white\/80 {
    color: rgba(255, 255, 255, 0.8);
  }

  .text-white\/90 {
    color: rgba(255, 255, 255, 0.9);
  }

  .hover\:bg-white:hover {
    background: white;
  }

  .hover\:text-primary:hover {
    color: var(--color-primary);
  }

  /* Typography and Spacing using Design Tokens */
  .hero-subtitle {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    line-height: var(--line-height-tight);
    margin-bottom: var(--space-4);
  }

  .hero-title {
    font-weight: var(--font-weight-bold);
    line-height: var(--line-height-tight);
    margin-bottom: var(--space-6);
  }

  .hero-title-sm {
    font-size: var(--font-size-3xl);
  }

  .hero-title-md {
    font-size: var(--font-size-4xl);
  }

  .hero-title-lg {
    font-size: var(--font-size-5xl);
  }

  .hero-title-xl {
    font-size: var(--font-size-5xl);
  }

  .hero-description {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-normal);
    line-height: var(--line-height-relaxed);
    margin-bottom: var(--space-8);
  }

  .hero-actions {
    gap: var(--space-4);
  }

  @media (min-width: 768px) {
    .hero-title-sm {
      font-size: var(--font-size-4xl);
    }

    .hero-title-md {
      font-size: var(--font-size-5xl);
    }

    .hero-title-lg {
      font-size: var(--font-size-5xl);
    }

    .hero-title-xl {
      font-size: var(--font-size-5xl);
    }

    .hero-description {
      font-size: var(--font-size-xl);
    }
  }
</style>